Q. 브라우저가 HTML, CSS, JavaScript를 받아 화면에 렌더링하는 과정을 설명해 주세요.

A. 브라우저 렌더링은 웹 페이지가 어떻게 HTML, CSS, JavaScript를 해석하고 화면에 표시하는지를 의미합니다. 브라우저는 크게 5단계의 과정을 거쳐 화면을 렌더링합니다.

이 과정을 **렌더링 파이프라인(Rendering Pipeline)**이라고 부릅니다.

📌 1. 개념 (What)
브라우저의 렌더링 과정은 다음과 같이 진행됩니다.

1️⃣ HTML을 파싱하여 DOM 생성
2️⃣ CSS를 파싱하여 CSSOM 생성
3️⃣ DOM과 CSSOM을 결합하여 Render Tree 생성
4️⃣ 레이아웃(Layout) 계산 – 각 요소의 위치와 크기 결정
5️⃣ 페인트(Paint) & 합성(Composite) – 화면에 실제 픽셀을 그리기

이 과정을 통해 브라우저는 HTML, CSS, JavaScript를 해석하고 최종적으로 사용자에게 웹 페이지를 표시합니다.

📌 2. 필요성 (Why)
렌더링 원리를 이해하면 성능 최적화에 도움이 됩니다.

예를 들어,

Reflow와 Repaint를 줄이면 렌더링 속도를 향상시킬 수 있습니다.
렌더링 차단 요소를 줄이면 페이지 로딩 속도를 개선할 수 있습니다.
CSS와 JavaScript 실행 순서를 조정하면 퍼포먼스를 최적화할 수 있습니다.
특히 대규모 웹 애플리케이션에서 성능이 중요한 경우 렌더링 최적화는 필수적입니다.

*Reflow - 레이아웃 재계산을 뜻하며 레이아웃 전체에 영향을 주기 때문에 비용이 큼
*Repaing - 특정 요소만 다시 그려 비용이 reflow보단 적음

📌 3. 동작 원리 (How)
브라우저가 실제로 렌더링하는 과정을 한 단계씩 설명해드리겠습니다.

1️⃣ HTML 파싱 → DOM 생성

브라우저는 HTML 파일을 받아서 태그를 해석하며 DOM(Document Object Model)을 생성합니다.
DOM은 HTML 문서의 트리 구조 표현이며, 각 노드가 HTML 요소를 나타냅니다.

2️⃣ CSS 파싱 → CSSOM 생성
브라우저는 CSS 파일을 로드하고 **CSSOM(CSS Object Model)**을 생성합니다.
CSSOM은 CSS 규칙을 트리 형태로 나타낸 구조입니다.
예를 들어, 다음 CSS를 적용하면

3️⃣ Render Tree 생성
DOM과 CSSOM을 결합하여 **렌더 트리(Render Tree)**를 생성합니다.
렌더 트리는 화면에 실제로 표시될 요소만 포함합니다.
display: none; 같은 요소는 렌더 트리에 포함되지 않습니다.

4️⃣ 레이아웃(Layout) 계산
브라우저는 렌더 트리를 기반으로 각 요소의 위치와 크기를 계산합니다.
뷰포트 크기, 폰트 크기, 상대적인 위치(position, flex, grid) 등을 고려하여 배치합니다.

5️⃣ 페인트(Paint) & 합성(Composite)
페인트(Paint): 요소의 색상, 그림자, 이미지 등 픽셀을 채우는 과정입니다.
합성(Composite): 여러 개의 레이어를 조합하여 최종적으로 화면에 출력하는 단계입니다.
페인트 비용이 높은 요소(예: box-shadow, border-radius)는 성능 저하를 유발할 수 있습니다.
👉 이 모든 과정이 빠르게 반복되며, 브라우저는 초당 60프레임(60FPS) 이상으로 화면을 업데이트하려고 합니다.

📌 4. 결과 및 응용 (Impact & Use Cases)
렌더링 과정을 이해하면 성능 최적화에도 적용할 수 있습니다.

✅ 1. Repaint & Reflow 최소화
Repaint: 요소의 색상, 배경만 변경될 때 발생 (비교적 가벼움)
Reflow: 요소의 크기, 레이아웃 변경 시 발생 (비용이 큼)
최적화 방법:
transform: translateX(10px); 사용 → Repaint 발생
left: 10px; 사용 → Reflow 발생 (더 비용이 큼)
CSS 애니메이션은 transform과 opacity만 변경하는 것이 성능에 유리

✅ 2. 크리티컬 렌더링 패스(CRP) 최적화
CSS & JavaScript 로딩 최적화:
CSS는 <head>에서 비동기 로드 지양 (렌더링 차단)
JavaScript는 defer 또는 async 사용 (렌더링 차단 방지)

✅ 3. 이미지 최적화
불필요한 리소스 로딩 방지 (lazy-loading)
SVG, WebP 등 최적화된 포맷 사용

📌 5. 한계 및 주의점
만 렌더링 과정에서 주의해야 할 점도 있습니다.

1️⃣ CSS가 먼저 로드되지 않으면 페이지가 깨져 보일 수 있음
→ 해결책: CSS를 head에 배치하고, 외부 CSS 파일을 미리 로드

2️⃣ 자바스크립트가 실행되기 전에 DOM이 완성되지 않으면 null 오류 발생
→ 해결책: DOMContentLoaded 이벤트 사용 또는 defer 속성 추가

3️⃣ 애니메이션이 성능을 저하시킬 수 있음
→ 해결책: transform과 `opacity

```
1️⃣ Reflow와 Repaint의 차이는 무엇인가요?
2️⃣ 레이어를 활용한 최적화 방법(GPU 가속)은 무엇인가요?
3️⃣ 자바스크립트가 렌더링 성능에 미치는 영향은?
4️⃣ Lighthouse를 사용한 렌더링 성능 측정 방법은?
```

<hr/>

## script

브라우저 렌더링 과정은 크게 5단계의 과정을 거쳐 렌더링 됩니다.

처음에 html을 파싱하여 dom을 생성한 후 css도 파싱해 cssom 생성하게 됩니다.
다음에 dom과 cssom을 결합해 render tree를 생성하게 되고, 각 요소의 위치와 크기를 결정하는 레이아웃 과정을 거친 후 화면에 실제 픽셀을 그리는 페인트 및 합성 과정으로 렌더링이 됩니다.

예상 꼬리 질문
렌더링 엔진은 무엇인가요?

- 브라우저마다 렌더링을 수행하는 엔진을 보유하고 있습니다. 대표적으로 크롬은 블링크, 사파리는 웹킷, 파이어폭스는 게코라는 렌더링 엔진을 사 용하고 있습니다.

DOM이란?

- DOM은 HTML 문서의 트리 구조 표현이며
