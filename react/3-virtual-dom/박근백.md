# React에서 가상돔의 정의와 동작방식

## 가상 DOM(Virtual DOM)이란?

> 가상 DOM(Virtual DOM)은 React가 UI 업데이트를 효율적으로 수행하기 위해 사용하는 메모리 내 가상의 DOM 구조입니다. 이는 실제 DOM을 직접 조작하는 대신, 변경 사항을 가상 DOM에서 먼저 계산한 후, 최소한의 업데이트만 실제 DOM에 적용하는 방식으로 동작합니다.

## 가상 DOM의 동작 방식

React에서 가상 DOM이 동작하는 방식은 다음과 같습니다.

1. 렌더링(Initial Rendering)

- React 컴포넌트가 처음 렌더링되면, 가상 DOM을 생성하고 이 가상 DOM을 기반으로 실제 DOM을 생성하여 화면에 표시합니다.

2. 업데이트(Updating)

- 상태(state)나 props가 변경되면, React는 새로운 가상 DOM을 생성합니다.

3. 비교(Diffing)

- 새로운 가상 DOM과 이전 가상 DOM을 비교하여(이 과정은 Reconciliation) 변경된 부분을 찾습니다. 이를 Diffing 알고리즘이라 합니다.

4. 최소 업데이트(Patching)

- 변경된 부분만 실제 DOM에 적용합니다(이를 DOM 조작 최소화라고 합니다).

## 장단점

- 장점

  - 업데이트 성능 향상: 실제 DOM 조작을 최소화하여 성능을 최적화합니다.
  - 불필요한 렌더링 방지: 변경된 부분만 효율적으로 반영합니다.
  - 코드 유지보수성 증가: React의 선언형 프로그래밍 방식과 함께 사용하면 코드가 간결해집니다.

- 단점

  - 메모리 사용 증가: 가상 DOM은 실제 DOM을 조작하기 전에 메모리에 저장된 가상의 트리 구조를 유지해야 합니다.
  - Diffing 비용 발생: Diffing 과정도 연산 비용이 발생하며, 복잡한 컴포넌트 트리에서는 성능 병목이 될 수도 있습니다.
  - 직접적인 DOM 조작보다 느릴 수 있음
